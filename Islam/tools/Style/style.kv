#:import hex kivy.utils.get_color_from_hex

<ThemeButton@MDIconButton>
    icon: 'brightness-7'
    pos_hint: {"left": .02,'top':1}
    on_release:
        theme = {
        'Light':'brightness-3',
        'Dark':'brightness-7'}
        app_theme = app.theme_cls.theme_style
        app.theme_cls.theme_style =  'Light' if  self.icon == 'brightness-7' else 'Dark'
        self.icon = theme[app.theme_cls.theme_style]

<MDBox@BoxLayout>
    color:'#ffffff00'
    radius:[20,20,20,20]
    canvas:
        Color:
            rgba:hex(self.color)
        RoundedRectangle:
            pos:self.pos
            size:self.size
            radius:self.radius

<MDGrid@GridLayout>
    color:'#ffffff00'
    radius:[20,20,20,20]
    canvas:
        Color:
            rgba:hex(self.color)
        RoundedRectangle:
            pos:self.pos
            size:self.size
            radius:self.radius

<IconImage>
    size:dp(55),dp(55)

<-FullImage>:
    canvas:
        Color:
            rgb: (1, 1, 1)
        RoundedRectangle:
            texture: self.texture
            size: self.size
            pos: self.pos
            radius:[dp(20)]*4
		# Line:
        #     points: root.x,root.y, root.x+self.width,root.y

<MCard>
    canvas:
        Color:
            rgba:hex('#373434' if app.theme_cls.theme_style=='Dark' else '#7e7d7d')
        RoundedRectangle:
            pos:self.pos
            size:self.size
            radius:self.radius
    size_hint: None, None
    size:dp(100),dp(150)
    orientation:'vertical'
    image:self.image
    id:t
    FullImage:
        source:t.image

    MDIconButton:
        icon:'youtube'
        on_release:
            app.OpenUrl(t.url)

<VideoBox>
    size_hint: 1, None
    size:dp(100),dp(200)
    radius:[20,20,20,20]
    canvas:
        Color:
            rgba:hex('#413c3c')
        RoundedRectangle:
            pos:self.pos
            size:self.size
            radius:self.radius
    FloatLayout:
        MDIconButton:
            icon:'youtube'
            md_bg_color:1,0,0,1
            pos_hint:{'center_x':.5,'center_y':.5}
